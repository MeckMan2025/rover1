Rover1 Software Stack Reference

Purpose

This document defines the exact software stack and operating model for the Rover1 project. Any AI agent or contributor should assume this is the baseline environment and follow the conventions below.

⸻

Hardware Target
	•	Compute: Raspberry Pi 5 (arm64 / aarch64)
	•	Boot: Ubuntu Server installed on removable storage (SD or SSD)
	•	Networking: Wi-Fi (wlan0) with SSH access enabled
	•	Headless: No monitor/keyboard required for normal operation

⸻

Operating System
	•	OS: Ubuntu Server 24.04.3 LTS (Noble)
	•	Architecture: aarch64 (arm64)
	•	Kernel: Raspberry Pi Ubuntu kernel branch (example observed: 6.8.0-1043-raspi)
	•	Login/Access: SSH over LAN using hostname rover1.local (mDNS) or direct IP

Notes:
	•	The system is intentionally headless. No desktop environment is installed.
	•	The Pi may show a warning if the power supply cannot provide full current; this is not a software blocker but can affect peripherals under load.

⸻

ROS 2 Distribution
	•	ROS distro: ROS 2 Jazzy (active)
	•	Install method: Official ROS 2 apt repository for Ubuntu 24.04 (Noble)
	•	Primary meta-package: ros-jazzy-ros-base
	•	Demo package used for validation: ros-jazzy-demo-nodes-cpp
	•	Middleware (RMW): Fast DDS via rmw_fastrtps_cpp

Validation performed:
	•	Ran ros2 run demo_nodes_cpp talker successfully and verified message publishing.
	•	Confirmed ros2 is installed at /opt/ros/jazzy/bin/ros2.
	•	Confirmed ROS environment sourcing works after adding it to ~/.bashrc.

⸻

Shell Environment Conventions

ROS environment must be available in every shell session.

Required in ~/.bashrc:

source /opt/ros/jazzy/setup.bash

Conventions:
	•	Use rover1.local for SSH when possible.
	•	Prefer deterministic paths; do not scatter code across the filesystem.

⸻

Workspace Layout (Canonical)

All rover code lives in one ROS 2 colcon workspace:

~/ros2_ws/
  src/
    rover1/              # GitHub repo clone (single source of truth)
  build/                 # generated by colcon
  install/               # generated by colcon
  log/                   # generated by colcon

Rule:
	•	Only manually edit files inside:
	•	~/ros2_ws/src/rover1/
	•	Treat build/, install/, and log/ as generated artifacts.

Recommended command alias:

alias rover='cd ~/ros2_ws/src/rover1'


⸻

Build System
	•	Build tool: colcon
	•	Typical build command:

cd ~/ros2_ws
colcon build --symlink-install
source install/setup.bash


⸻

Core Developer Tooling (Installed on Pi)

Minimum utilities installed for headless development and debugging:
	•	git (version control)
	•	tmux (persistent sessions and split terminals over SSH)
	•	tree (visualize directory structure)
	•	curl, wget (downloads)
	•	build-essential (compilers and build tools)
	•	python3-pip (Python package install support)
	•	python3-colcon-common-extensions (colcon extensions)

⸻

Interaction Model (Headless “Pseudo Desktop”)

The Pi is treated as a robot runtime and build target.

Primary interaction is via:
	•	SSH from laptop: ssh andrewmeckley@rover1.local
	•	Multiple sessions via:
	•	multiple SSH terminals on the laptop, OR
	•	tmux inside one SSH session

Optional “pseudo desktop” development tools (run on laptop, not on Pi):
	•	Antigravity IDE and/or VS Code Remote-SSH
	•	RViz/Foxglove on laptop later (Pi publishes data, laptop visualizes)

Principle:
	•	Laptop provides the desktop experience
	•	Pi stays lean and deterministic

⸻

GitHub / Repo Policy

A single GitHub repo is the source of truth.

Repo is intended to contain:
	•	ROS 2 packages (under src/)
	•	documentation (under docs/)
	•	task specs / prompts (under tasks/)
	•	scripts (under scripts/)

AI agent policy:
	•	AI agents must only create/modify files inside this repo clone:
	•	~/ros2_ws/src/rover1
	•	No editing of /etc, /usr, or other system folders unless explicitly required and documented.

⸻

Known Good Package Versions (Observed)

Example observed version (from apt):
	•	ros-jazzy-ros-base: 0.11.0-1noble.20251108.105230
	•	ros-jazzy-demo-nodes-cpp: 0.33.7-1noble.20251108.101008

(Exact patch versions may vary with apt updates; use apt-cache policy <package> to confirm current.)

⸻

Quick Smoke Test Commands

Run in one SSH terminal:

ros2 run demo_nodes_cpp talker

Run in a second SSH terminal:

ros2 run demo_nodes_cpp listener

Expected behavior:
	•	Listener prints “I heard: Hello World: N”

⸻

Next Planned Layers (Not Implemented Yet)

This stack is the foundation for adding:
	•	rover motor control (cmd_vel → motor driver)
	•	IMU + GPS drivers
	•	robot description (URDF)
	•	launch files (rover_bringup)
	•	systemd service to auto-start the rover on boot
	•	laptop visualization and teleop